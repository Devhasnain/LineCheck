(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{6147:function(e,t,a){Promise.resolve().then(a.bind(a,4454))},2761:function(e,t,a){"use strict";a.r(t),a.d(t,{ContextProvider:function(){return i},CounterContext:function(){return o}});var s=a(7437),l=a(2265);let r={offers:[],barsWithDistance:[],user:{}},n=(e,t)=>{switch(t.type){case"OFFERS":return{...e,offers:t.payload};case"barsWithDistance":return{...e,barsWithDistance:t.payload};case"USER":return{...e,user:t.payload};default:return e}},o=(0,l.createContext)({state:r,dispatch:()=>null}),i=e=>{let{children:t}=e,[a,i]=(0,l.useReducer)(n,r);return(0,s.jsx)(o.Provider,{value:{state:a,dispatch:i},children:t})}},4454:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var s=a(7437),l=a(2265),r=a(6691),n=a.n(r),o=a(4633),i=a(2761),c=e=>{let{bar:t}=e,[a,r]=(0,l.useState)(t.is_active);console.log(t,"bar");let n=e=>{r(!a),console.log(a,"enable");var t=new Headers;t.append("Accept","application/json"),t.append("Content-Type","application/json");var s=JSON.stringify({id:e,is_active:a?"0":"1"});fetch("".concat(o.j,"togglebar"),{method:"POST",headers:t,body:s,redirect:"follow"}).then(e=>e.json()).then(e=>{alert(e.message),console.log(e)}).catch(e=>console.log("error",e))};return(0,s.jsxs)("div",{className:"bg-white p-4 shadow-md rounded-lg ".concat(a?"":"opacity-50"),children:[(0,s.jsx)("img",{src:t.image,alt:t.title,className:"w-full h-32 object-cover rounded-lg mb-4"}),(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:t.title}),(0,s.jsx)("p",{className:"text-gray-600 mb-2",children:t.description}),(0,s.jsxs)("p",{className:"text-gray-600 mb-4",children:["Rating: ",t.rating]}),(0,s.jsx)("button",{onClick:()=>n(t.bar_id),className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-full focus:outline-none ".concat(a?"hover:bg-blue-600":"cursor-not-allowed"),children:a?"Disable":"Enable"})]})},d=()=>{let[e,t]=(0,l.useState)(!1),[a,r]=(0,l.useState)({}),[n,d]=(0,l.useState)([]);(0,l.useEffect)(()=>{!async function(){t(!0);try{var e=new Headers;e.append("Content-Type","application/json");var a={method:"GET",headers:e,redirect:"follow"};fetch("".concat(o.j,"offers/",1),a).then(e=>e.json()).then(e=>{g({type:"OFFERS",payload:e.data}),t(!1)}).catch(e=>console.log("error",e)),fetch("".concat(o.j,"bartimmings/1"),a).then(e=>e.json()).then(e=>{r(function(e){let t=e.length;if(0===t)return{averageQueue:0,averageVolume:0,averageWaitTime:"00:00"};let a=0,s=0,l=0;e.forEach(e=>{a+=parseInt(e.queue),s+=parseInt(e.volume);let[t,r]=e.waittime.split(":");l+=60*parseInt(t)+parseInt(r)});let r=a/t,n=s/t,o=l/t,i="".concat(String(Math.floor(o/60)).padStart(2,"0"),":").concat(String(Math.floor(o%60)).padStart(2,"0"));return{averageQueue:r,averageVolume:n,averageWaitTime:i}}(e.data)),d(e.data),console.log(e)}).catch(e=>console.log("error",e))}catch(e){console.log("error",e)}}()},[]);let[u,m]=(0,l.useState)(0),[h,p]=(0,l.useState)(0),{state:x,dispatch:g}=(0,l.useContext)(i.CounterContext),[f,b]=(0,l.useState)([]);return(0,l.useEffect)(()=>{var e;(e=new Headers).append("Accept","application/json"),fetch("".concat(o.j,"showAllBars"),{method:"GET",headers:e,redirect:"follow"}).then(e=>e.json()).then(e=>{b(e.data),console.log(e)}).catch(e=>console.log("error",e))},[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"flex gap-2 w-full ",children:(0,s.jsxs)("div",{className:"container mx-auto py-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold mb-4 text-white",children:"Bars"}),(0,s.jsx)("div",{className:"grid grid-cols-1  sm:grid-cols-2 lg:grid-cols-3 gap-4",children:f&&f.map(e=>(0,s.jsx)(c,{bar:e},e.bar_id))})]})})})},u=a(4033),m=()=>{let[e,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{localStorage.getItem("token")||(0,u.redirect)("/login")},[]),(0,s.jsxs)("div",{className:"flex w-full  bg-black",children:[(0,s.jsxs)("div",{className:"bg-[#212429] w-[17%] h-screen",children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(n(),{src:"/logo.png",width:120,height:120,alt:""})}),(0,s.jsx)("nav",{children:(0,s.jsxs)("ul",{className:"flex flex-col gap-2 mt-8",children:[(0,s.jsxs)("li",{onClick:()=>t(!1),className:"px-4 py-2 cursor-pointer text-white flex items-center gap-1",children:[(0,s.jsx)(n(),{src:"/home.png",width:25,height:25,alt:""}),"Home"]}),(0,s.jsxs)("li",{onClick:()=>t(!0),className:"px-4 py-2 cursor-pointer text-white flex items-center gap-1",children:[(0,s.jsx)(n(),{src:"/Vector (3).png",width:25,height:25,alt:""}),"Bars"]}),(0,s.jsxs)("li",{className:"px-4 py-2 cursor-pointer text-white flex items-center gap-1",children:[(0,s.jsx)(n(),{src:"/Vector (4).png",width:25,height:25,alt:""}),"Settings"]})]})})]}),(0,s.jsxs)("div",{className:"w-[83%]",children:[(0,s.jsxs)("div",{className:"flex w-full h-12 justify-end items-center gap-2 px-8",children:[(0,s.jsx)("span",{className:"h-8 flex justify-center items-center w-8 rounded-full bg-gray-500 text-3xl text-white",children:"A"}),(0,s.jsx)("h1",{className:"text-white",children:"Admin1_resto"}),(0,s.jsx)(n(),{src:"/icons (2).png",width:20,height:20,alt:""}),(0,s.jsx)(n(),{src:"/icons (1).png",width:20,height:20,alt:""})]}),e?(0,s.jsx)(()=>{let[e,t]=(0,l.useState)(null),[a,r]=(0,l.useState)({title:"",description:"",rating:"",latitude:"40.0",longitude:"40.0",offers:"",email:"",is_active:!1});console.log(e);let n=e=>{let{name:s,value:l,checked:n,type:o,files:i}=e.target;"file"===o&&t(i[0]),r({...a,[s]:"checkbox"===o?n:l}),console.log(a,"image")};return console.log(a.image,"img"),(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault();var l=new Headers;l.append("Accept","application/json");var n=new FormData;n.append("title",a.title),n.append("description",a.description),n.append("image",e),n.append("rating",a.rating),n.append("latitude",a.latitude),n.append("longitude",a.longitude),n.append("offers",a.offers),n.append("waitTime","00:00"),n.append("volume","0"),n.append("lineQueue","0"),n.append("is_active",a.is_active?"1":"0"),n.append("email","samssdssdfes@example.com"),console.log(e),fetch("".concat(o.j,"bars"),{method:"POST",headers:l,body:n,redirect:"follow"}).then(e=>e.json()).then(e=>{r({title:"",description:"",rating:"",latitude:"40.0",longitude:"40.0",offers:"",email:"",is_active:!1}),t(null),alert(e.message),console.log(e)}).catch(e=>console.log("error",e))},className:"ml-8 max-w-md bg-white p-4 shadow-md rounded-lg",children:[(0,s.jsx)("h1",{className:"block text-gray-700 text-2xl font-bold mb-2",children:"Bar Create"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"title",className:"block text-gray-700 text-sm font-bold mb-2",children:"Title"}),(0,s.jsx)("input",{value:a.title,onChange:n,type:"text",id:"title",name:"title",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),(0,s.jsx)("textarea",{value:a.description,onChange:n,id:"description",name:"description",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"image",className:"block text-gray-700 text-sm font-bold mb-2",children:"Image"}),(0,s.jsx)("input",{onChange:n,type:"file",id:"image",name:"image",accept:"image/*",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"rating",className:"block text-gray-700 text-sm font-bold mb-2",children:"Rating"}),(0,s.jsx)("input",{value:a.rating,onChange:n,type:"text",id:"rating",name:"rating",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"})]}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("label",{htmlFor:"is_active",className:"lock text-gray-700 text-sm font-bold mb-2",children:"Active"}),(0,s.jsx)("input",{type:"checkbox",id:"is_active",name:"is_active",checked:a.is_active,onChange:n,className:"mr-2"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"offers",className:"block text-gray-700 text-sm font-bold mb-2",children:"Offers"}),(0,s.jsx)("input",{value:a.offers,onChange:n,type:"text",id:"offers",name:"offers",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-bold mb-2",children:"Email"}),(0,s.jsx)("input",{value:a.email,onChange:n,type:"email",id:"email",name:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-full focus:outline-none hover:bg-blue-600",children:"Submit"})})]})},{}):(0,s.jsx)(d,{})]})]})}},4633:function(e,t,a){"use strict";a.d(t,{j:function(){return s}});let s="https://majesticowls.com/linecheck/api/"},4033:function(e,t,a){e.exports=a(8165)}},function(e){e.O(0,[986,971,596,744],function(){return e(e.s=6147)}),_N_E=e.O()}]);